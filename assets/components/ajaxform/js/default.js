var AjaxForm={initialize:function(e){jQuery().ajaxForm||document.write('<script src="'+e.assetsUrl+'js/lib/jquery.form.min.js"><\/script>'),$(document).on("submit",e.formSelector,function(r){return $(this).ajaxSubmit({dataType:"json",data:{pageId:e.pageId},url:e.actionUrl,beforeSerialize:function(e){e.find(":submit").each(function(){e.find('input[type="hidden"][name="'+$(this).attr("name")+'"]').length||$(e).append($('<input type="hidden">').attr({name:$(this).attr("name"),value:$(this).attr("value")}))})},beforeSubmit:function(e,r){return("undefined"==typeof afValidated||0!=afValidated)&&(r.find(".error").html(""),r.find(".error").removeClass("error"),r.find("input,textarea,select,button").attr("disabled",!0),!0)},success:function(e,r,t,a){if(a.find("input,textarea,select,button").attr("disabled",!1),e.form=a,$(document).trigger("af_complete",e),e.success)AjaxForm.Message.success(e.message),a.find(".error").removeClass("error"),a[0].reset(),"undefined"!=typeof grecaptcha&&grecaptcha.reset();else if(AjaxForm.Message.error(e.message),e.data){var n,s,i;for(n in e.data)e.data.hasOwnProperty(n)&&(i||(a.find('[name="'+n+'"]').focus(),i=!0),s=e.data[n],a.find(".error_"+n).html(s).addClass("error"),a.find('[name="'+n+'"]').addClass("error"))}}}),r.preventDefault(),!1}),$(document).on("keypress change",".error",function(){var e=$(this).attr("name");$(this).removeClass("error"),$(".error_"+e).html("").removeClass("error")}),$(document).on("reset",e.formSelector,function(){$(this).find(".error").html(""),AjaxForm.Message.close()})}}